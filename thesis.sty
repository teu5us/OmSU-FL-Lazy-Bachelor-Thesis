\ProvidesPackage{thesis}

% --- Пакеты --- %

\usepackage[utf8]{inputenc}
\usepackage[T1,T2A]{fontenc}
\usepackage[english,russian]{babel}
\usepackage{amsmath}
\usepackage{geometry}
\usepackage{extsizes}
\usepackage{fontspec}
%\usepackage{ragged2e}
\usepackage{fancyhdr}
\usepackage{indentfirst}
%\usepackage{setspace}
\usepackage{enumitem}
\usepackage{cmap}
\usepackage{titlesec}
\usepackage{microtype}
\usepackage{pgfplots}
\usepackage{pgf-pie}
\usepackage{tocloft}
\usepackage[colorlinks=true, linkcolor=black,linktoc=all]{hyperref} % Оформляет содержание как ссылки

% --- Оформление содержания --- %

% Номер введения -- 0
\setcounter{section}{-1}

\makeatletter
% Отключение номеров для заголовков первого уровня
\renewcommand{\thesection}{\ifx\label\@gobble\else\thechapter.\fi\Roman{}}
% Правильная нумерация заголовков второго уровня
\renewcommand{\thesubsection}{\ifx\label\@gobble\else\fi\arabic{section}.\arabic{subsection}}
\makeatother

\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}} % Заполнитель для всех заголовков
\renewcommand{\cfttoctitlefont}{\normalsize\bfseries} % 14 жирный шрифт для заголовка содержания
\setlength{\cftbeforesecskip}{\onehalfspacing} % Полуторный интервал в содержании
\setlength{\cftbeforepartskip}{\onehalfspacing} % Полуторный интервал в содержании
\setlength{\cftsecindent}{-1.5em} % Отключает абзацный отступ в содержании
\setlength{\cftsubsecindent}{0em} % Отключает абзацный отступ в содержании
\setlength{\cftsubsubsecindent}{0em} % Отключает абзацный отступ в содержании

% --- Оформление заголовков --- %

% Первый уровень
\titleformat{\section}
{\normalsize\bfseries} % 14 жирный
{\hspace{0.75cm}} % Абзацный отступ для заголовков в тексте
{0em}
{}

% Второй уровень
\titleformat{\subsection}
{\normalsize\bfseries} % 14 жирный
{\hspace{0.75cm}\thesubsection} % Абзацный отступ для заголовков в тексте и номера заголовков
{0.5em}
{}

% Третий уровень
\titleformat{\subsubsection}
{\normalsize\bfseries} % 14 жирный
{\hspace{0.75cm}\thesubsubsection} % Абзацный отступ для заголовков в тексте и номера заголовков
{0.5em}
{}

% --- Отключение переносов --- %

\tolerance=500
\hyphenpenalty=10000
\emergencystretch=4em

% Отключает интервалы в списках
\setlist{nolistsep}

% Поля
\geometry{a4paper, heightrounded, left=3cm, right=1cm, top=2cm, bottom=2cm}

% Шрифт
\setmainfont{Times New Roman}

% Абзацный отступ и интервал между абзацами
\setlength{\parindent}{0.75cm}
\setlength{\parskip}{0em}

% Нумерация страниц
\fancyhf{}
\fancyheadoffset{0cm}
\renewcommand{\headrulewidth}{0pt}
\fancyhead[R]{\thepage}
\pagestyle{fancy}

% Полуторный интервал
\linespread{1.43}

% --- Прочее --- %

\UseMicrotypeSet[protrusion]{basicmath}
\pgfplotsset{compat=1.16}
